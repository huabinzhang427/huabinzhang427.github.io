{"title":"操作系统的需求和演变","date":"2019-05-24T02:07:04.000Z","thumbnail":"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1558673858863&di=65939acbef30f414bc45035567a02083&imgtype=0&src=http%3A%2F%2Fcbu01.alicdn.com%2Fimg%2Fibank%2F2015%2F550%2F227%2F2378722055_1733353514.jpg","slug":"operating-sysytem","tags":["摘录","架构设计"],"updated":"2019-05-24T06:26:42.192Z","content":"<p>“操作系统”是刚性需求，核心的流量入口，兵家必争之地。所以，围绕它的核心能力，操作系统必然会不断演化出新的形态。</p>\n<a id=\"more\"></a>\n<h2 id=\"软件治理的需求\">软件治理的需求<a href=\"post/operating-sysytem#软件治理的需求\"></a></h2><p>编程语言出现后，软件的生产效率得到大幅度提升，随着越来越多软件的出现，自然而然就诞生了多个软件如何共处？也就是软件治理的需求。比如下面的需求场景：</p>\n<ul>\n<li>多个软件如何同时运行（多任务的需求）？</li>\n<li>多个软件如何共同使用计算机上的存储空间（内存管理、文件系统的需求）？</li>\n<li>多个软件如何共同使用同一个外部设备（设备管理的需求）？</li>\n<li>多个软件如何相互通讯，如何进行数据交换（进程间通讯、共享内存的需求）？</li>\n<li>病毒、恶意软件如何治理（安全管理的需求）？</li>\n</ul>\n<p>如果没有一个中间的协调方，软件与软件之间并不知道彼此的存在，这种没有统一规则约束下的场面，会很凌乱，于是，操作系统就出现了。<strong>对于软件而言，它像一个大法官，制定规则并据此约束“大家”的行为</strong>。</p>\n<h2 id=\"操作系统的启动过程\">操作系统的启动过程<a href=\"post/operating-sysytem#操作系统的启动过程\"></a></h2><blockquote>\n<p>操作系统是怎么获得执行权的？</p>\n</blockquote>\n<p>这是计算机主板 ROM 上的启动程序（BIOS）交给它的。</p>\n<p>过程：</p>\n<p>计算机加电启动后，中央处理器（CPU）会从一个固定的存储地址加载指令序列执行。通常，这个固定的存储地址指向计算机主板的 ROM 上的一段启动程序（BIOS）。这段启动程序包含以下内容：</p>\n<ul>\n<li>存储设备的驱动程序，用以识别常规的外置存储设备，比如硬盘、光驱、U盘；</li>\n<li>基础外部设备的驱动程序，比如键盘、鼠标、显示器；</li>\n<li>设备和启动配置的基础管理能力；</li>\n<li>支持执行外置存储中引导区的机器代码程序；</li>\n<li>跳转到外置存储引导区的固定地址，把执行权交给该地址上的引导程序。</li>\n</ul>\n<p>引导区的引导程序有长度限制，只能做非常少的事情。在常规情况下，它只是简单地跳转到真正的操作系统的启动程序，但有时计算机上安装了多个操作系统，此时引导程序会提供菜单让你选择要运行的操作系统。这样，操作系统就开始干活了。</p>\n<h2 id=\"操作系统的需求演进\">操作系统的需求演进<a href=\"post/operating-sysytem#操作系统的需求演进\"></a></h2><h3 id=\"操作系统的发展历程\">操作系统的发展历程<a href=\"post/operating-sysytem#操作系统的发展历程\"></a></h3><p>早期计算机是大型机，主要使用人群是搞科研性质的科学家或其他高端人群。这个时期的计算机还是单任务，以计算为主，软件为操作系统服务。如果“软件治理”是操作系统的根源需求，那么可以认为这个时期还不存在操作系统。</p>\n<p>此后，小型机和个人计算机（PC）的崛起，分别诞生了 UNIX 和 DOS 这两个影响深远的操作系统。UNIX 几乎算得上是今天所有现代操作系统的鼻祖。</p>\n<p>微软通过推动 PC 机的发展，让操作系统不再依赖特定的硬件设备。微软也就因此脱离 IBM 的臂膀，自己一飞冲天了。</p>\n<h3 id=\"操作系统在做什么\">操作系统在做什么<a href=\"post/operating-sysytem#操作系统在做什么\"></a></h3><p>从<strong>客户价值</strong>和<strong>商业价值</strong>两个维度来看：</p>\n<p>客户价值</p>\n<p><strong>操作系统首先要解决的是软件治理的问题</strong>，大体分为以下六个子系统：</p>\n<ul>\n<li>进程管理</li>\n<li>存储管理</li>\n<li>输入设备管理</li>\n<li>输出设备管理</li>\n<li>网络管理</li>\n<li>安全管理</li>\n</ul>\n<p>其次操作系统解决的是<strong>基础编程接口问题</strong>。这些编程接口一方面简化了软件的开发，另一方面提供了多软件共同运行的环境，实现了软件治理。</p>\n<p>商业价值</p>\n<p><strong>操作系统是基础的刚需软件</strong>。计算机离开了操作系统就是一堆废铜烂铁。</p>\n<p>虽然第一个广为人知的操作系统是 NUIX，但从商业上来说最成功的操作系统是 DOS/Windows，成就了微软的霸主地位。UNIX 走的是企业市场，而 DOS/Windows 选择了更为巨大的市场：个人计算机（PC）市场。</p>\n<p>操作系统也是<strong>核心的流量入口</strong>，占领了操作系统，就占有了用用户。浏览器是另一个软件治理的入口，本质上是操作系统之上的操作系统。如果软件都运行在浏览器上，那么本地操作系统就沦为和硬件一般无二的管道了。</p>\n<p>应用市场实现了应用的分发，既解决了系统能力的无限扩展问题（客户价值），也解决了预装软件个数总归有限的问题（商业价值）。支付则是收税模式的承载体，无论是下载应用收费，还是应用内购买内容收费，都可以通过这个关卡取收税。</p>\n<p><strong>无论是本地操作系统 IOS 和 Android，还是 Web 操作系统（浏览器）如微信小程序，都实现了“账号-支付-应用市场”这样的商业闭环。这类操作系统，卡伊把它叫做现代操作系统</strong>。</p>\n<h2 id=\"操作系统的边界\">操作系统的边界<a href=\"post/operating-sysytem#操作系统的边界\"></a></h2><blockquote>\n<p>操作系统的边界在哪里？</p>\n</blockquote>\n<ul>\n<li>硬件（个人计算机、手机或其它）；</li>\n<li>操作系统；</li>\n<li>浏览器。</li>\n</ul>\n<p>问题在于，操作系统、浏览器和（互联网）搜索引擎的关系是什么？移动时代的浏览器会是什么样的？它和操作系统的关系又如何相处？</p>\n<p><strong>操作系统和硬件的关系</strong>，微软虽然占据了 PC 操作系统（DOS/Windows）绝大部分江山，但是它自身并不生产硬件。<strong>PC 兼容机</strong>的发展对 DOS/Windows 的发展有着直观重要的支撑意义，它让操作系统厂商有了独立的生存空间。</p>\n<p>iOS 操作系统引入的“账号-支付-应用是市场”的收税模式，受益方是硬件（手机）厂商，而非操作系统厂商。</p>\n<p>Android 系统是免费的，Google 并没有从中收取软件许可费用，而是借助 Android 的市场占有率来推动 Google 的服务，通过 Google 服务来获取商业回报。</p>\n<p>Google 和 Android 手机厂商之间的联盟并不可靠，养肥的手机厂商会不断试探 Google 的底线，而 Google 也会尝试去收紧政策，双方在博弈中达到平衡。</p>\n<p>人们对操作系统的重要性认知已经非常充分，所以大部分手机厂商，都不会放弃<strong>操作系统的核心子系统的主控权</strong>。同时，手机是个性化产品，硬件上并没有 PC 那么标准化，所以个人计算机有兼容机，而手机并没有所谓的标准化硬件。</p>\n<p><strong>操作系统和浏览器的关系</strong>，在 PC 时期，操作系统是以管理本地软件和内容为主（对内）。浏览器，是以管理互联网内容为主（对外）。但现在这个边界变得越来越模糊。应用市场是典型的互联网内容，在浏览器的生态里，网站导航、搜索引擎、Web 应用市场。它们共同构成了互联网世界的“地图”。</p>\n<h2 id=\"内容总结\">内容总结<a href=\"post/operating-sysytem#内容总结\"></a></h2><blockquote>\n<p>操作系统是做什么的？</p>\n</blockquote>\n<ul>\n<li>从客户价值来说，它需要实现软件治理，让多个软件和谐共处；提供基础的编程接口，降低软件开发难度。</li>\n<li>从商业价值来说，操作系统是刚性需求，核心的流量入口，兵家必争之地。所以，围绕它的核心能力，操作系统必然会不断演化出新的形态。</li>\n</ul>\n<p>我们把引入了 “账号-支付-应用市场”商业闭环的收税模式的操作系统，称为现代操作系统。</p>\n<blockquote>\n<p>操作系统的边界在哪里？</p>\n</blockquote>\n<p>分析硬件、操作系统、浏览器三者的关系，对需求发展做出预判。</p>\n","prev":{"title":"软件运行机制与内存管理","slug":"software-operation-memory-management"},"next":{"title":"数据结构中数组与编程语言中数组的关系","slug":"array-differ"},"link":"http://yoursite.com/post/operating-sysytem/","toc":[{"title":"软件治理的需求","id":"软件治理的需求","index":"1"},{"title":"操作系统的启动过程","id":"操作系统的启动过程","index":"2"},{"title":"操作系统的需求演进","id":"操作系统的需求演进","index":"3","children":[{"title":"操作系统的发展历程","id":"操作系统的发展历程","index":"3.1"},{"title":"操作系统在做什么","id":"操作系统在做什么","index":"3.2"}]},{"title":"操作系统的边界","id":"操作系统的边界","index":"4"},{"title":"内容总结","id":"内容总结","index":"5"}],"reward":false}